#!/bin/sh
# pre-commit hook to verify project integrity

echo "--> Running Pre-Commit Checks..."

# 1. Check for basic Python syntax errors
echo "--> Checking Python syntax..."
find src -name "*.py" -exec python3 -m py_compile {} \;
if [ $? -ne 0 ]; then
    echo "ERE: Python syntax error found. Commit aborted."
    exit 1
fi

# 2. Check for large files (>10MB)
echo "--> Checking for large files..."
large_files=$(find . -maxdepth 2 -type f -size +10M)
if [ -n "$large_files" ]; then
    echo "WARNING: Large files found (consider .gitignore):"
    echo "$large_files"
    # exit 1  # Uncomment to block
fi

echo "--> Pre-Commit Checks Passed!"
exit 0
